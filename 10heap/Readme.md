# 堆（用数组表示 index=0 不存储数据）[🔗](https://time.geekbang.org/column/article/70187)

#### 定义
- 堆是一个完全二叉树（除了最后一层每一层都是满，且最后一层从左到右排列）
- 每个节点都大于等于（或者小于等于）子节点
#### 插入数据
```
先将数据放入堆的最后一个节点。然后依次向上跟父节点比较，直到根节点
```
#### 删除数据
```
将最后一个叶节点的数据移动到要删除的节点上，然后再把这个节点跟子节点比较，依次处理数据
```

#### 建堆
- 1.从下往上建堆
```
在堆中插入一个元素的思路。尽管数组中包含 n 个数据，但是我们可以假设，起初堆中只包含一个数据，
就是下标为 1 的数据。然后，我们调用前面讲的插入操作，将下标从 2 到 n 的数据依次插入到堆中。
这样我们就将包含 n 个数据的数组，组织成了堆。
```
- 2.从上往上建堆
```
从倒数第一个非叶子节点开始依次向上堆化
```
![建堆](https://static001.geekbang.org/resource/image/50/1e/50c1e6bc6fe68378d0a66bdccfff441e.jpg?wh=1142*807)
![建堆](https://static001.geekbang.org/resource/image/aa/9d/aabb8d15b1b92d5e040895589c60419d.jpg?wh=1142*856)

#### 堆得典型应用
- 优先级队列
- TopK 问题 
