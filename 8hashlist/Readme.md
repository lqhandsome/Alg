#### 哈希表

通过链表解决hash冲突的一个简单哈希表

[参考：如果设计一个高性能的哈希表](https://time.geekbang.org/column/article/64586)

未完善
- hashList 长度固定，不会自动扩容 

容易出Bug点
- 删除数组上的key时，要把链表中的数据前移一个到数组上
- 用一个哨兵当head 可以简化删除时的代码复杂度


#### 一致性哈希算法
[白话解析一致性哈希算法▷](https://www.zsythink.net/archives/1182 "tiitle")
- 定义
  假设我们有 k 个机器，数据的哈希值的范围是[0, MAX]。我们将整个范围划分成 m 个小区间（m 远大于 k），每个机器负责 m/k 个小区间。当有新机器加入的时候，我们就将某几个小区间的数据，从原来的机器中搬移到新的机器中。这样，既不用全部重新哈希、搬移数据，也保持了各个机器上数据数量的均衡。 

10（k）个机器  哈希范围0-100，划分30(m)个区间   每个机器负责30/10（m/k） 个区间

- 自己理解

 一致性哈希算法，不再对机器数量取模，而是对一个固定的值（MAX）取模（这个值远大于机器数量），可以想象一个0 ~ MAX-1的圆环，然后把机器hash后对MAX取模，先把机器落于换上，
  当插入数据时，对数据hash后对MAX 取模，会落在一个节点上，然后顺着环找机器，数据缓冲在遇见的第一个机器上
  - 新增机器时
  
    先把机器通过哈希放在节点上。然后把落在上一个机器到本机器的数据从下一个机器中迁移过来
  - 删除机器时
    
    先把机器移出节点，然后把数据从本机器全部移入下一个机器中

一致性哈希算法完成：
- 初始化
- 添加数据
- 查找数据

未完成：
- 添加机器
  添加机器时，要把这个机器所在的节点到上一个节点的数据从下一个节点搬移过来
- 删除机器时
  要把这个机器的所有数据搬移到下一个节点上